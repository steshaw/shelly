#!/usr/bin/env bash

set -eu

echo Bootstrapping shelly...

# FIXME: Need to ensure myrepos and git on other platforms.
hash git mr || (
  echo "Please ensure that git and myrepos are installed" >&2
  exit 1
)

SHELLY_HOME=~/Projects/steshaw/shelly

git clone https://github.com/steshaw/shelly.git "$SHELLY_HOME"
(
  cd "$SHELLY_HOME"
  git remote set-url origin git@github.com:steshaw/shelly.git
)

PATH=${SHELLY_HOME}/bin:${PATH}
ShellyLinkDotFiles

echo Generate ssh key...
generate-ssh-key
echo

echo Add key to GitHub...
github-add-key
echo

echo Add key to Bitbucket...
bitbucket-add-key
echo

echo Bootstrap myrepos...
mr checkout
