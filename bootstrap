#!/usr/bin/env bash

set -eu

echo Bootstrapping shelly...

# FIXME: Need to ensure myrepos and git on other platforms.
hash git python || (
  echo "Please ensure that git and python are installed" >&2
  exit 1
)

export SHELLY_DEV_DIR=~/dev
SHELLY_HOME=${SHELLY_DEV_DIR}/steshaw/shelly

if [[ ! -d $SHELLY_HOME ]]; then
  git clone https://github.com/steshaw/shelly.git "$SHELLY_HOME"
  (
    cd "$SHELLY_HOME"
    git remote set-url origin git@github.com:steshaw/shelly.git
  )
fi

PATH=${SHELLY_HOME}/bin:${PATH}
ShellyLinkDotFiles
