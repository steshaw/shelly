#!/usr/bin/env bash

Echo "Executing ~/.shrc"

setEditor() {
  editor=$1
  Echo "Trying $editor"
  if has "$editor"; then
    export VISUAL
    VISUAL=$(command -v "$editor")
    Echo "VISUAL = $VISUAL"
    return 0
  else
    Echo "We don't have $editor"
    return 1
  fi
}

unset EDITOR
unset VISUAL
setEditor nvim || setEditor vim

set -o vi

# Aliases

alias vi='v'

alias ls='ls --color -Fh'
alias l='ls -l'
alias ll='l -A'

alias wi='type -ap'

# Make file ops safer.
alias cp='cp -i'
alias mv='mv -i'
alias rm='rm -i'

alias cx='chmod +x'
alias cw='chmod +w'

alias vbp='v ~/.profile'
alias sbp='source ~/.profile'
alias vbrc='v ~/.bashrc'
alias sbrc='source ~/.bashrc'

alias szshrc="source ~/.zshrc"
alias zshrc="\${VISUAL} ~/.zshrc"
alias ohmyzsh="\${VISUAL} ~/.oh-my-zsh"

alias gaa='git add --all'
alias gst='git status'

alias path='echo $PATH | tr : "\n"'
alias cdpath='echo $CDPATH | tr : "\n"'

if [[ "$(uname)" != 'Darwin' ]]; then
  alias pbcopy='xsel --clipboard --input'
  alias pbpaste='xsel --clipboard --output'
fi

alias sml='rlwrap sml'
alias ocaml='rlwrap ocaml'

cdpath=(
  .
  ~/Projects
  ~/Projects/steshaw
)

sourceExists ~/.travis/travis.sh # for travis gem
sourceExists ~/.shrc.local
